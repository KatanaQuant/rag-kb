# Release v1.10.3-beta.1

**Date**: 2025-12-02
**Type**: Beta Pre-release
**Breaking Changes**: Yes

---

## Summary

Beta release continuing v1.10.x series. Contains breaking changes that will be finalized in v1.10.3 stable.

### Breaking Changes

1. **Directory rename**: `knowledge_base/` is now `kb/`
2. **MCP stdio removal**: Only HTTP transport is supported

---

## Migration Guide

### From v1.9.1 (Stable)

#### 1. Rename Knowledge Base Directory

```bash
# Stop services
docker-compose down

# Rename directory
mv knowledge_base kb

# If using custom path in .env, update variable name
# OLD: KNOWLEDGE_BASE_PATH=/path/to/docs
# NEW: KB_PATH=/path/to/docs
```

#### 2. Remove MCP stdio (if used)

```bash
# Remove old stdio MCP server
claude mcp remove rag-kb-stdio

# Add HTTP transport
claude mcp add --transport http --scope user rag-kb http://localhost:8000/mcp
```

#### 3. Update and Rebuild

```bash
git fetch --tags
git checkout v1.10.0-beta.1
docker-compose build --no-cache
docker-compose up -d
```

---

## Changes Since v1.9.1

### Breaking

- `knowledge_base/` directory renamed to `kb/`
- `KNOWLEDGE_BASE_PATH` env var renamed to `KB_PATH` (old name still works)
- MCP stdio transport removed (use HTTP transport)

### Bug Fixes

- Fix directory path validation in priority indexing endpoint
- Directories are now properly rejected with 400 error

### Internal Improvements

- StartupManager architecture improvements
- Law of Demeter compliance fixes
- Dead code removal
- Documentation consolidation

### Documentation

- Consolidated MCP guides into single MCP.md
- Updated all docs to reference kb/ instead of knowledge_base/
- Removed internal implementation details from public docs

---

## Compatibility

| Component | v1.9.1 | v1.10.0-beta.1 |
|-----------|--------|----------------|
| Knowledge base dir | `knowledge_base/` | `kb/` |
| Env variable | `KNOWLEDGE_BASE_PATH` | `KB_PATH` |
| MCP transport | HTTP + stdio | HTTP only |
| Database schema | Unchanged | Unchanged |
| API endpoints | Unchanged | Unchanged |

---

## Testing

This beta has passed:
- Unit tests (875 passing)
- Integration tests
- E2E filetype tests

Report issues at: https://github.com/KatanaQuant/rag-kb/issues
