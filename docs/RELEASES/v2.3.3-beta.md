# v2.3.3-beta Release Notes

**Release Date**: 2025-12-11
**Previous Version**: v2.3.2-beta

---

## Overview

This patch release adds configurable options for Docling PDF processing to help reduce memory usage on resource-constrained systems (e.g., Mac Docker Desktop).

**Key changes:**
- Added environment variables to control Docling memory usage
- Fixed broken documentation links

---

## Highlights

| Option | Default | Memory Savings |
|--------|---------|----------------|
| `DOCLING_GENERATE_PAGE_IMAGES=false` | true | ~20-30% |
| `DOCLING_GENERATE_PICTURE_IMAGES=false` | true | ~10-20% |
| `DOCLING_PDF_BACKEND=pypdfium2` | dlparse_v4 | ~80% |

---

## What's Changed

### Added: Configurable Docling Options

New environment variables allow fine-tuning Docling PDF processing for memory optimization:

| Variable | Default | Description |
|----------|---------|-------------|
| `DOCLING_GENERATE_PAGE_IMAGES` | `true` | Generate page-level images during PDF processing |
| `DOCLING_GENERATE_PICTURE_IMAGES` | `true` | Extract embedded images from PDFs |
| `DOCLING_PDF_BACKEND` | `dlparse_v4` | PDF parsing backend (`dlparse_v4` or `pypdfium2`) |

**Memory optimization recommendations:**

For memory-constrained environments (< 8GB RAM):
```env
DOCLING_GENERATE_PAGE_IMAGES=false
DOCLING_GENERATE_PICTURE_IMAGES=false
```

For extreme memory constraints (< 4GB RAM):
```env
DOCLING_GENERATE_PAGE_IMAGES=false
DOCLING_GENERATE_PICTURE_IMAGES=false
DOCLING_PDF_BACKEND=pypdfium2
```

**Trade-offs:**
- Disabling image generation reduces OCR accuracy for image-heavy PDFs
- `pypdfium2` backend is faster but less accurate than `dlparse_v4`

**Files changed:**
- `api/config.py` - Added `DoclingConfig` dataclass
- `api/environment_config_loader.py` - Load new env vars
- `api/ingestion/extractors/docling_extractor.py` - Apply config to converter

### Fixed: Broken Documentation Links

Fixed broken postmortem links in:
- `docs/MAINTENANCE.md`
- `docs/TROUBLESHOOTING.md`

---

## Migration

No migration required. All new options default to previous behavior.

### From v2.3.2-beta

Standard upgrade - no changes needed:
```bash
docker-compose pull
docker-compose up -d
```

### Optionally Enable Memory Optimization

Add to your `.env` file if experiencing OOM issues:
```env
DOCLING_GENERATE_PAGE_IMAGES=false
DOCLING_GENERATE_PICTURE_IMAGES=false
```

---

## Full Changelog

- `77e454d` feat: Add configurable Docling options for memory optimization
- `64e2507` fix: Default Docling options to match previous behavior
- `d373eb6` docs: Fix broken postmortem links in MAINTENANCE and TROUBLESHOOTING
- `50e08fc` fix: Correct import path in docling tests
